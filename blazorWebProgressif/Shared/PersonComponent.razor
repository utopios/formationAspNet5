@page "/personne"

<div>
    <div>

        <input type="text" @bind="LastName" class="form-control" placeholder="Votre nom" />
        <input type="text" @bind="FirstName" class="form-control" placeholder="Votre prenom" />
    </div>
    <button class="btn btn-primary" @onclick="@ClickPerson">Ajouter une personne</button>
    @*@foreach (Person d in Persons)
    {
        <div>@d.FirstName</div>
        <div>@d.LastName</div>
    }*@
    <ListPersonComponent Persons="Persons" SendPersonToEdit="GetPersonToEdit"></ListPersonComponent>

    <div>@PersonToEdit</div>
    @*<span>@TestPerson</span>
    <div>@FirstName @LastName</div>*@
</div>

@code {

    // public string TestPerson { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }

    public string PersonToEdit { get; set; }
    public List<Person> Persons { get; set; } = new List<Person>();

    public void ClickPerson()
    {
        //TestPerson = "toto";
        Persons.Add(new Person { FirstName = FirstName, LastName = LastName });
        FirstName = "";
        LastName = "";
    }

    public void GetPersonToEdit(string p)
    {
        PersonToEdit = p;
    }
}
